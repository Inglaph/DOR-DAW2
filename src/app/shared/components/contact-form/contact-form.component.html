<div class="contact-form-container">
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
        <div class="form-header">
            <h2>Contáctanos</h2>
            <p>¿Tienes alguna pregunta? Estamos aquí para ayudarte.</p>
        </div>

        <div class="form-group">
            <label for="name">Nombre</label>
            <input type="text" id="name" formControlName="name" placeholder="Tu nombre completo"
                [ngClass]="{'error': formControls['name'].invalid && formControls['name'].touched}">
            <div class="error-message" *ngIf="formControls['name'].invalid && formControls['name'].touched">
                El nombre es requerido y debe tener al menos 3 caracteres
            </div>
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" formControlName="email" placeholder="tu@email.com"
                [ngClass]="{'error': formControls['email'].invalid && formControls['email'].touched}">
            <div class="error-message" *ngIf="formControls['email'].invalid && formControls['email'].touched">
                Por favor, introduce un email válido
            </div>
        </div>

        <div class="form-group">
            <label for="subject">Asunto</label>
            <input type="text" id="subject" formControlName="subject" placeholder="¿Sobre qué quieres hablar?"
                [ngClass]="{'error': formControls['subject'].invalid && formControls['subject'].touched}">
            <div class="error-message" *ngIf="formControls['subject'].invalid && formControls['subject'].touched">
                El asunto es requerido y debe tener al menos 5 caracteres
            </div>
        </div>

        <div class="form-group">
            <label for="message">Mensaje</label>
            <textarea id="message" formControlName="message" placeholder="Escribe tu mensaje aquí..."
                [ngClass]="{'error': formControls['message'].invalid && formControls['message'].touched}"></textarea>
            <div class="error-message" *ngIf="formControls['message'].invalid && formControls['message'].touched">
                El mensaje es requerido y debe tener al menos 10 caracteres
            </div>
        </div>

        <button type="submit" class="submit-button" [disabled]="contactForm.invalid || isSubmitting">
            <span *ngIf="!isSubmitting">Enviar Mensaje</span>
            <span *ngIf="isSubmitting">Enviando...</span>
        </button>

        <div class="form-message success" *ngIf="submitSuccess">
            ¡Mensaje enviado con éxito! Nos pondremos en contacto contigo pronto.
        </div>

        <div class="form-message error" *ngIf="submitError">
            Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo.
        </div>
    </form>
</div>